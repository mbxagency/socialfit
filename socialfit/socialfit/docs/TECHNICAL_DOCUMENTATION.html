<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social FIT Data Intelligence Platform - Technical Documentation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        
        .header {
            text-align: center;
            background: linear-gradient(135deg, #ffd700 0%, #ffb700 100%);
            color: #1a1a1a;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: bold;
        }
        
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .section {
            background: white;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border-left: 4px solid #ffd700;
        }
        
        .section h2 {
            color: #1a1a1a;
            margin-top: 0;
            font-size: 1.8rem;
            border-bottom: 2px solid #ffd700;
            padding-bottom: 10px;
        }
        
        .section h3 {
            color: #333;
            font-size: 1.4rem;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .tech-category {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #e9ecef;
        }
        
        .tech-category h4 {
            margin: 0 0 10px 0;
            color: #ffd700;
            font-size: 1.1rem;
        }
        
        .tech-category ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .tech-category li {
            margin-bottom: 5px;
        }
        
        .directory-tree {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.8;
            border: 1px solid #e9ecef;
            margin: 15px 0;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            background: #f8f9fa;
            margin-bottom: 10px;
            padding: 12px 15px;
            border-radius: 6px;
            border-left: 3px solid #ffd700;
        }
        
        .feature-list li strong {
            color: #1a1a1a;
        }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 15px 0;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #ffc107;
            margin: 15px 0;
        }
        
        .highlight strong {
            color: #856404;
        }
        
        @media print {
            body {
                background: white;
                color: black;
            }
            
            .header {
                background: #ffd700 !important;
                color: black !important;
                -webkit-print-color-adjust: exact;
            }
            
            .section {
                box-shadow: none;
                border: 1px solid #ddd;
            }
            
            .tech-category {
                border: 1px solid #ddd;
            }
            
            .directory-tree {
                border: 1px solid #ddd;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🏋️ Social FIT Data Intelligence Platform</h1>
        <p>Technical Documentation</p>
        <p>Complete System Architecture & Implementation Guide</p>
    </div>

    <div class="section">
        <h2>1. Project Overview</h2>
        <p><strong>Social FIT</strong> is a comprehensive Data Intelligence Platform that integrates gym ERP data with Instagram analytics to generate actionable business insights. The platform features a robust ETL pipeline, advanced analytics engine, and a professional web dashboard for real-time monitoring and decision-making.</p>
        
        <div class="highlight">
            <strong>🎯 Key Objectives:</strong>
            <ul>
                <li>Integrate gym management data with social media analytics</li>
                <li>Provide real-time business intelligence and KPIs</li>
                <li>Generate actionable insights for business growth</li>
                <li>Offer responsive, professional dashboard interface</li>
            </ul>
        </div>
    </div>

    <div class="section">
        <h2>2. Architecture & Technology Stack</h2>
        
        <div class="tech-stack">
            <div class="tech-category">
                <h4>Backend Technologies</h4>
                <ul>
                    <li>Python 3.9+</li>
                    <li>Pydantic (Data Validation)</li>
                    <li>Pandas (Data Processing)</li>
                    <li>Supabase (PostgreSQL Database)</li>
                    <li>Loguru (Structured Logging)</li>
                </ul>
            </div>
            
            <div class="tech-category">
                <h4>Frontend Technologies</h4>
                <ul>
                    <li>HTML5</li>
                    <li>Bootstrap 5 (CSS Framework)</li>
                    <li>Chart.js (Interactive Charts)</li>
                    <li>Supabase JS (Client)</li>
                    <li>Leaflet (Interactive Maps)</li>
                </ul>
            </div>
            
            <div class="tech-category">
                <h4>DevOps & Deployment</h4>
                <ul>
                    <li>GitHub Actions (CI/CD)</li>
                    <li>GitHub Pages (Hosting)</li>
                    <li>Docker (Containerization)</li>
                    <li>Environment Variables</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>3. Project Structure</h2>
        
        <div class="directory-tree">
social_fit/
├── 📊 index.html                 # Main dashboard (GitHub Pages)
├── 🏋️ socialfit_favicon.ico      # Gym favicon
├── 📊 dashboard/                 # Dashboard configuration
│   ├── config.py               # Centralized configuration
│   ├── setup_dashboard.py      # Setup script
│   └── README_DASHBOARD.md     # Dashboard documentation
├── 🗄️ metabase/                  # Metabase alternative
│   ├── metabase.jar            # Metabase executable
│   ├── docker-compose.yml      # Docker configuration
│   ├── setup_metabase.sh       # Setup script
│   └── README_METABASE.md      # Metabase documentation
├── 🔧 src/                      # Main source code
│   ├── etl/                    # ETL pipeline
│   ├── analytics/              # Analytics engine
│   ├── database/               # Database management
│   ├── models/                 # Data models
│   └── config/                 # Configuration
├── 🧪 tests/                   # Automated tests
├── 📚 docs/                    # Technical documentation
├── 🛠️ scripts/                 # Utility scripts
└── 📋 data/                    # Example data
        </div>
    </div>

    <div class="section">
        <h2>4. ETL Pipeline Architecture</h2>
        
        <h3>4.1 Extract Phase</h3>
        <ul class="feature-list">
            <li><strong>Data Sources:</strong> Reads student and Instagram data from CSV files in `/data` directory</li>
            <li><strong>File Formats:</strong> Supports CSV with automatic column mapping and type detection</li>
            <li><strong>Error Handling:</strong> Comprehensive error logging and validation</li>
        </ul>
        
        <h3>4.2 Transform Phase</h3>
        <ul class="feature-list">
            <li><strong>Data Cleaning:</strong> Handles missing values, duplicates, and data type conversion</li>
            <li><strong>Validation:</strong> Uses Pydantic models for strict data validation</li>
            <li><strong>Normalization:</strong> Standardizes data formats and structures</li>
        </ul>
        
        <h3>4.3 Load Phase</h3>
        <ul class="feature-list">
            <li><strong>Database:</strong> Inserts data into Supabase PostgreSQL database</li>
            <li><strong>Deduplication:</strong> Prevents duplicate records with smart checks</li>
            <li><strong>Batch Processing:</strong> Optimized for large datasets</li>
        </ul>
        
        <h3>4.4 Analytics Generation</h3>
        <ul class="feature-list">
            <li><strong>KPIs:</strong> Computes key performance indicators</li>
            <li><strong>Distributions:</strong> Generates statistical distributions</li>
            <li><strong>Insights:</strong> Produces actionable business insights</li>
        </ul>
    </div>

    <div class="section">
        <h2>5. Data Models</h2>
        
        <h3>5.1 Student Model</h3>
        <div class="code-block">
class Student(BaseModel):
    id: int
    name: str
    gender: Gender
    birth_date: datetime
    address: str
    neighborhood: str
    plan_type: PlanType
    gympass: bool
    monthly_value: float
    total_value: float
    plan_start_date: datetime
    active_plan: bool
        </div>
        
        <h3>5.2 Instagram Post Model</h3>
        <div class="code-block">
class InstagramPost(BaseModel):
    date: datetime
    likes: int
    comments: int
    saves: int
    reach: int
    profile_visits: int
    new_followers: int
    main_hashtag: str
        </div>
        
        <h3>5.3 Analytics Models</h3>
        <ul class="feature-list">
            <li><strong>StudentAnalytics:</strong> Student distribution and revenue analytics</li>
            <li><strong>InstagramAnalytics:</strong> Social media performance metrics</li>
            <li><strong>CrossPlatformAnalytics:</strong> Correlation between social media and business metrics</li>
        </ul>
    </div>

    <div class="section">
        <h2>6. Analytics Engine</h2>
        
        <h3>6.1 Key Performance Indicators</h3>
        <ul class="feature-list">
            <li><strong>Total Students:</strong> Complete student count</li>
            <li><strong>Active Plans:</strong> Currently active subscriptions</li>
            <li><strong>Monthly Revenue:</strong> Total monthly recurring revenue</li>
            <li><strong>Average Engagement:</strong> Social media engagement rate</li>
        </ul>
        
        <h3>6.2 Statistical Analysis</h3>
        <ul class="feature-list">
            <li><strong>Plan Distribution:</strong> Breakdown by subscription types</li>
            <li><strong>Gender Distribution:</strong> Demographic analysis</li>
            <li><strong>Neighborhood Analysis:</strong> Geographic distribution</li>
            <li><strong>Engagement Trends:</strong> Time-series analysis</li>
        </ul>
        
        <h3>6.3 Business Insights</h3>
        <ul class="feature-list">
            <li><strong>Correlation Analysis:</strong> Social media impact on enrollments</li>
            <li><strong>Content Performance:</strong> Hashtag and post effectiveness</li>
            <li><strong>Revenue Optimization:</strong> Plan performance analysis</li>
            <li><strong>Geographic Insights:</strong> Location-based marketing opportunities</li>
        </ul>
    </div>

    <div class="section">
        <h2>7. Dashboard Features</h2>
        
        <h3>7.1 Real-time KPIs</h3>
        <ul class="feature-list">
            <li><strong>Live Updates:</strong> Real-time data from Supabase</li>
            <li><strong>Visual Indicators:</strong> Color-coded KPI cards</li>
            <li><strong>Responsive Design:</strong> Optimized for all devices</li>
        </ul>
        
        <h3>7.2 Interactive Charts</h3>
        <ul class="feature-list">
            <li><strong>Plan Distribution:</strong> Pie chart with plan types</li>
            <li><strong>Gender Distribution:</strong> Demographic breakdown</li>
            <li><strong>Neighborhood Chart:</strong> Geographic analysis</li>
            <li><strong>Engagement Trends:</strong> Time-series visualization</li>
            <li><strong>Hashtag Performance:</strong> Content effectiveness</li>
            <li><strong>Correlation Scatter:</strong> Social media vs business metrics</li>
        </ul>
        
        <h3>7.3 Data Tables</h3>
        <ul class="feature-list">
            <li><strong>Top Students:</strong> Highest revenue contributors</li>
            <li><strong>Top Instagram Posts:</strong> Best performing content</li>
            <li><strong>Sortable Columns:</strong> Interactive data exploration</li>
        </ul>
        
        <h3>7.4 Interactive Map</h3>
        <ul class="feature-list">
            <li><strong>Curitiba Map:</strong> Student distribution by neighborhood</li>
            <li><strong>Interactive Markers:</strong> Clickable location data</li>
            <li><strong>Geographic Insights:</strong> Location-based analytics</li>
        </ul>
        
        <h3>7.5 Mobile Responsiveness</h3>
        <ul class="feature-list">
            <li><strong>Responsive Grid:</strong> Adapts to screen sizes</li>
            <li><strong>Touch-Friendly:</strong> Optimized for mobile interaction</li>
            <li><strong>Proportional Scaling:</strong> Maintains readability on small screens</li>
        </ul>
    </div>

    <div class="section">
        <h2>8. Deployment & Configuration</h2>
        
        <h3>8.1 Local Development Setup</h3>
        <div class="code-block">
# Clone repository
git clone https://github.com/murilobiss-dataeng/social_fit.git
cd social_fit

# Install dependencies
pip install -r requirements.txt

# Configure environment
cp env_example.txt .env
# Edit .env with Supabase credentials

# Run ETL pipeline
python main.py

# Open dashboard
open index.html
        </div>
        
        <h3>8.2 Production Deployment</h3>
        <ul class="feature-list">
            <li><strong>GitHub Pages:</strong> Automatic deployment from main branch</li>
            <li><strong>Environment Variables:</strong> Secure credential management</li>
            <li><strong>HTTPS Enforcement:</strong> Secure connections in production</li>
            <li><strong>CDN Integration:</strong> Fast global content delivery</li>
        </ul>
        
        <h3>8.3 Configuration Management</h3>
        <ul class="feature-list">
            <li><strong>Environment Files:</strong> Separate configs for dev/prod</li>
            <li><strong>Supabase Integration:</strong> Database and authentication</li>
            <li><strong>Logging Configuration:</strong> Structured logging with Loguru</li>
            <li><strong>Error Handling:</strong> Comprehensive error management</li>
        </ul>
    </div>

    <div class="section">
        <h2>9. Security & Best Practices</h2>
        
        <h3>9.1 Data Security</h3>
        <ul class="feature-list">
            <li><strong>Environment Variables:</strong> Secure credential storage</li>
            <li><strong>Row Level Security:</strong> Database-level access control</li>
            <li><strong>Anonymous Access:</strong> Public dashboard with limited permissions</li>
            <li><strong>HTTPS Enforcement:</strong> Encrypted data transmission</li>
        </ul>
        
        <h3>9.2 Code Quality</h3>
        <ul class="feature-list">
            <li><strong>Type Validation:</strong> Pydantic models for data integrity</li>
            <li><strong>Error Handling:</strong> Comprehensive exception management</li>
            <li><strong>Logging:</strong> Structured logging for debugging</li>
            <li><strong>Testing:</strong> Unit and integration tests</li>
        </ul>
        
        <h3>9.3 Performance Optimization</h3>
        <ul class="feature-list">
            <li><strong>Database Indexing:</strong> Optimized query performance</li>
            <li><strong>Caching:</strong> Analytics result caching</li>
            <li><strong>Batch Processing:</strong> Efficient data processing</li>
            <li><strong>CDN Usage:</strong> Fast content delivery</li>
        </ul>
    </div>

    <div class="section">
        <h2>10. Testing Strategy</h2>
        
        <h3>10.1 Test Types</h3>
        <ul class="feature-list">
            <li><strong>Unit Tests:</strong> Individual component testing</li>
            <li><strong>Integration Tests:</strong> End-to-end workflow testing</li>
            <li><strong>Database Tests:</strong> Data integrity validation</li>
            <li><strong>API Tests:</strong> Supabase connection testing</li>
        </ul>
        
        <h3>10.2 Test Execution</h3>
        <div class="code-block">
# Run all tests
make test

# Unit tests only
pytest tests/unit/

# Integration tests only
pytest tests/integration/

# Specific test
pytest tests/ -k "test_etl"
        </div>
    </div>

    <div class="section">
        <h2>11. Monitoring & Maintenance</h2>
        
        <h3>11.1 Logging</h3>
        <ul class="feature-list">
            <li><strong>Structured Logging:</strong> JSON-formatted log entries</li>
            <li><strong>Log Rotation:</strong> Automatic log file management</li>
            <li><strong>Error Tracking:</strong> Comprehensive error logging</li>
            <li><strong>Performance Monitoring:</strong> Execution time tracking</li>
        </ul>
        
        <h3>11.2 Health Checks</h3>
        <ul class="feature-list">
            <li><strong>Database Connectivity:</strong> Connection status monitoring</li>
            <li><strong>Data Freshness:</strong> Last update timestamp tracking</li>
            <li><strong>Error Rates:</strong> Failure rate monitoring</li>
            <li><strong>Performance Metrics:</strong> Response time tracking</li>
        </ul>
    </div>

    <div class="section">
        <h2>12. Future Enhancements</h2>
        
        <h3>12.1 Planned Features</h3>
        <ul class="feature-list">
            <li><strong>Real-time Notifications:</strong> Alert system for important metrics</li>
            <li><strong>Advanced Analytics:</strong> Machine learning insights</li>
            <li><strong>Multi-platform Integration:</strong> Additional social media platforms</li>
            <li><strong>Mobile App:</strong> Native mobile application</li>
            <li><strong>API Endpoints:</strong> RESTful API for external integrations</li>
        </ul>
        
        <h3>12.2 Scalability Improvements</h3>
        <ul class="feature-list">
            <li><strong>Microservices Architecture:</strong> Service decomposition</li>
            <li><strong>Event-driven Processing:</strong> Real-time data streaming</li>
            <li><strong>Advanced Caching:</strong> Redis integration</li>
            <li><strong>Load Balancing:</strong> Horizontal scaling support</li>
        </ul>
    </div>

    <div class="section">
        <h2>13. Support & Documentation</h2>
        
        <h3>13.1 Available Documentation</h3>
        <ul class="feature-list">
            <li><strong>API Documentation:</strong> Endpoints and integrations</li>
            <li><strong>Development Guide:</strong> Setup and contribution guidelines</li>
            <li><strong>Dashboard Guide:</strong> Configuration and customization</li>
            <li><strong>Deployment Guide:</strong> Production deployment instructions</li>
        </ul>
        
        <h3>13.2 Contact Information</h3>
        <ul class="feature-list">
            <li><strong>GitHub Repository:</strong> https://github.com/murilobiss-dataeng/social_fit</li>
            <li><strong>Live Dashboard:</strong> https://murilobiss-dataeng.github.io/social_fit/</li>
            <li><strong>Issues:</strong> GitHub Issues for bug reports and feature requests</li>
        </ul>
    </div>

    <div class="section">
        <h2>14. License & Contributing</h2>
        
        <h3>14.1 License</h3>
        <p>This project is licensed under the MIT License - see the <strong>LICENSE</strong> file for details.</p>
        
        <h3>14.2 Contributing</h3>
        <ol>
            <li><strong>Fork</strong> the project</li>
            <li><strong>Create</strong> a feature branch (`git checkout -b feature/AmazingFeature`)</li>
            <li><strong>Commit</strong> your changes (`git commit -m 'Add some AmazingFeature'`)</li>
            <li><strong>Push</strong> to the branch (`git push origin feature/AmazingFeature`)</li>
            <li><strong>Open</strong> a Pull Request</li>
        </ol>
    </div>

    <div class="section">
        <h2>15. Conclusion</h2>
        
        <p>The Social FIT Data Intelligence Platform represents a comprehensive solution for integrating gym management data with social media analytics. The platform provides real-time insights, actionable business intelligence, and a professional user interface that adapts to various devices and use cases.</p>
        
        <div class="highlight">
            <strong>🎯 Key Success Factors:</strong>
            <ul>
                <li>Robust ETL pipeline with comprehensive error handling</li>
                <li>Real-time analytics and business intelligence</li>
                <li>Responsive and professional dashboard interface</li>
                <li>Secure and scalable architecture</li>
                <li>Comprehensive testing and documentation</li>
            </ul>
        </div>
        
        <p>This technical documentation serves as a comprehensive guide for understanding, deploying, and maintaining the Social FIT Data Intelligence Platform. For additional support or questions, please refer to the project's GitHub repository or contact the development team.</p>
    </div>

    <div style="text-align: center; margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
        <p><strong>Document Version:</strong> 1.0</p>
        <p><strong>Last Updated:</strong> June 2025</p>
        <p><strong>Generated by:</strong> Kerygma Development Team</p>
    </div>
</body>
</html> 